<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>购物清单</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
	<script src="../lib/vue/dist/vue.js"></script>
	<link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.css">
</head>
<body>
	<div class="container" id="list">
		<div class="row">
			<h2>{{user}}的购物清单<small>共采购<span class="label label-primary">{{m}}</span>未完成 <span class="label label-warning">{{n}}</span></small></h2>
		</div>
		<div class="row input-group">
			<input type="text" class="form-control" v-model="addBuy" placeholder="请输入商品名称" aria-describedby="basic-addon2">
			<span class="input-group-addon" id="basic-addon2" v-on:mouseup="addList" >提交</span>
		</div>
		<div class="row" >
			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>商品名称</th>
						<th>是否采购</th>
						<th>完成</th>
					</tr>
				</thead>
				<tbody>
					<tr v-for="item in buyList">
						<td>{{item.name}}</td>
						<td><input type="checkbox" value="" v-model="item.checked" v-bind:checked="item.checked"></td>
						<td>{{item.checked}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
<script>
	new Vue({
		el:"#list",
		data:{
			user:"Laity",
			buyList:[
				{name:"菠菜","checked":true},
				{name:"黄瓜","checked":false},
				{name:"萝卜","checked":false},
				{name:"芹菜","checked":false}
			],
			addBuy:""
		},
		methods:{
			addList:function(){
				if(this.addBuy==""){alert("请输入商品名称");}
				else{
					this.buyList.push({name:this.addBuy,"checked":false});
					this.addBuy="";		
				}
			}
		},
		computed:{
			m:function(){
				return this.buyList.length;
			},
			n:function(){
				var a=0;
				for(var n=0; n<this.buyList.length;n++){
					if(this.buyList[n].checked==false){
						a++;
					}
				}
				return a;
			}
		}
	});
</script>
</body>
</html>